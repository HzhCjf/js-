<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <div class="str">
        dwohadhog{{a}}uygugi
        <div>

        </div>
    </div>
    <script>
        let oStr = document.querySelector('.str')
        let data = {
            a:'666',
            b:'hello'
        }
        function com(oStr){
            //获取所有子节点
            let childs = oStr.childNodes;
            // 将节点进行循环
            childs.forEach(function(node){
                // 判断节点是否为文本节点
                if(node.nodeType === 3){
                    // 判断节点的值是否为空格
                    if(node.nodeValue !==' '){
                        // 节点的值不是空字符串则获取节点的值
                        let text = node.nodeValue
                        // 制定正则
                        let reg = /\{\{(.+)\}\}/g
                        if(reg.test(text)){
                            // 用小括号的是可以单独拿出来,是获取正则匹配的值,从左到右数,第一个就是$1,第二个$2,以此推类
                            let $1 = RegExp.$1
                            // 用对象中的值替换掉节点中的值
                            node.nodeValue = node.nodeValue.replace(reg,data[$1])
                        }
                    }
                // 如果是元素节点,则进行递归调用
                }else if(node.nodeType === 1){
                    com(node)
                }
            })
            
        }
        com(oStr)
        
    </script>
</body>
</html>